<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HelioRa Extension Test Page</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h2 {
            color: #333;
            border-bottom: 2px solid #FDB813;
            padding-bottom: 10px;
        }
        .cookie-banner {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #333;
            color: white;
            padding: 20px;
            text-align: center;
            z-index: 9999;
        }
        .cookie-banner button {
            margin: 0 10px;
            padding: 10px 20px;
            cursor: pointer;
        }
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
        }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
<h1>üõ°Ô∏è HelioRa Extension Test Page</h1>

<div class="test-section">
    <h2>1. Cookie Banner Test</h2>
    <p>A cookie banner should appear at the bottom. HelioRa should remove it automatically.</p>
    <div id="cookie-test-result" class="status">Waiting for test...</div>
</div>

<div class="test-section">
    <h2>2. Ads Test</h2>
    <p>Extension should block ad domains. Check console for blocked requests.</p>
    <div id="ad-test-result" class="status">Check browser console</div>
</div>

<div class="test-section">
    <h2>3. Threat Detection Test</h2>
    <p>Open HelioRa popup to see risk score for this page</p>
    <div id="threat-test-result" class="status">Check extension popup</div>
</div>

<div class="test-section">
    <h2>4. Extension Status</h2>
    <button onclick="testExtension()">Test Extension</button>
    <div id="extension-status" class="status">Click button to test</div>
</div>

<!-- Fake cookie banner -->
<div class="cookie-banner" id="cookieBanner">
    <p>üç™ We use cookies to enhance your experience.</p>
    <button onclick="acceptCookies()">Accept</button>
    <button onclick="rejectCookies()">Reject</button>
</div>

<script>

    // Check if cookie banner is still visible after 2 seconds
    setTimeout(() => {
        const banner = document.getElementById('cookieBanner');
        const result = document.getElementById('cookie-test-result');

        if (banner && window.getComputedStyle(banner).display !== 'none') {
            result.className = 'status error';
            result.textContent = '‚ùå FAILED: Cookie banner still visible';
        } else {
            result.className = 'status success';
            result.textContent = '‚úÖ PASSED: Cookie banner removed';
        }
    }, 2000);

    function acceptCookies() {
        document.getElementById('cookieBanner').style.display = 'none';
    }

    function rejectCookies() {
        document.getElementById('cookieBanner').style.display = 'none';
    }

    function testExtension() {
        const statusDiv = document.getElementById('extension-status');
        statusDiv.textContent = 'Testing...';

        // Check if extension is loaded
        if (typeof chrome !== 'undefined' && chrome.runtime) {
            statusDiv.className = 'status success';
            statusDiv.innerHTML = `
                ‚úÖ Extension detected!<br>
                - Cookie blocker: ${document.getElementById('cookieBanner').style.display === 'none' ? 'Working' : 'Not working'}<br>
                - Open popup to see threat detection
            `;
        } else {
            statusDiv.className = 'status error';
            statusDiv.textContent = '‚ùå Extension not detected';
        }
    }

    console.log('[Test Page] Loaded. HelioRa should block cookie b
.');
</script>
</body>
</html>
